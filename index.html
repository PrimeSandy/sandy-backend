<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ================= BASIC SEO ================= -->
    <title>E-TRAX | Smart Expense Tracker for Daily Budget Management</title>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="description" content="E-TRAX is a smart expense tracker to manage daily income and expenses with analytics, Firebase login, secure cloud storage, and budget tracking." />
    <meta name="keywords" content="expense tracker, expense tracker app, expense tracker web app, daily expense tracker, budget tracker, budget management app, money manager, personal finance tracker, finance management app, income and expense tracker, expense tracker for students, expense tracker for professionals, smart expense tracker, E-TRAX expense tracker, AlphaPrime expense tracker, alphaprime.co.in">

    <meta name="author" content="AlphaPrime" />
    <meta name="robots" content="index, follow" />

    <!-- ================= CANONICAL ================= -->
    <link rel="canonical" href="https://www.alphaprime.co.in/" />

    <!-- ================= OPEN GRAPH ================= -->
    <meta property="og:title" content="E-TRAX | Smart Expense Tracker" />
    <meta property="og:description" content="Track your daily expenses, set budgets, and analyze spending with E-TRAX ‚Äì a secure smart expense tracker." />
    <meta property="og:url" content="https://www.alphaprime.co.in/" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://www.alphaprime.co.in/e.png" />

    <!-- ================= TWITTER CARD ================= -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="E-TRAX | Smart Expense Tracker" />
    <meta name="twitter:description" content="Manage daily expenses and budgets easily with E-TRAX." />
    <meta name="twitter:image" content="https://www.alphaprime.co.in/e.png" />

    <!-- ================= FAVICONS ================= -->
    <link rel="icon" href="EtraxPub.jpg" type="image/png">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">

    <!-- ================= PWA ================= -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#00bcd4" />

    <!-- ================= FONTS & CSS ================= -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- ================= CUSTOM CSS ================= -->
    <link rel="stylesheet" href="style.css">

    <!-- ================= JS LIBS ================= -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- ================= STRUCTURED DATA ================= -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "E-TRAX",
        "url": "https://www.alphaprime.co.in/",
        "logo": "https://www.alphaprime.co.in/logo.png"
    }
    </script>
</head>

<body>

<!-- LOGIN VIEW -->
<div id="loginView" class="login-wrapper">
    <!-- LOTTIE ANIMATED BACKGROUND (LOGIN ONLY) -->
    <lottie-player
        src="https://lottie.host/fef0dd87-b7ca-430b-b7ff-f306c934d368/WKpgmIC1iO.lottie"
        background="transparent"
        speed="1"
        loop
        autoplay
        style="
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.6;
        ">
    </lottie-player>

    <div class="login-card">
        <h1>E-TRAX</h1>
        <p>Track expenses ‚Äî smarter. Sign in with Google to continue.</p>

        <button id="googleLoginBtn" class="google-btn" aria-label="Login with Google">
            <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google">
            <span>Sign in with Google</span>
        </button>

        <div class="small-note">We only use Google to authenticate you ‚Äî no payment info required.</div>
        <div style="margin-top:14px;">
            <small style="color:var(--text-muted)">Developed by <strong style="color:var(--primary)">ALPHA DEVELOPERS </strong></small>
        </div>
    </div>
</div>

<!-- HEADER -->
<header id="mainHeader">
    <div class="header-content">
        <div class="brand-section">
            <h1 class="project-name">E-TRAX</h1>
            <div class="typing" id="typingHeader"></div>
        </div>
        
        <div class="header-controls">
            <!-- User Profile Container -->
            <div class="user-profile" id="userProfileContainer">
                <img src="" alt="Profile" class="profile-pic" id="userProfilePic" style="display: none;">
                <div class="user-initials" id="userInitials"></div>
                <div id="userNameDisplay"></div>
            </div>
            
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-palette"></i>
                <span>Theme</span>
            </button>
            
            <nav class="nav-links">
                <a href="https://whatsapp.com/channel/0029Va5gnd0CcW4xKICHcb0k" target="_blank" rel="noopener" title="Contact">
                    <i class="fas fa-phone"></i>
                    <span>Contact</span>
                </a>
                <a href="#" id="aboutLink" title="About">
                    <i class="fas fa-info-circle"></i>
                    <span>About</span>
                </a>
                <a href="#" id="historyLink" title="History">
                    <i class="fas fa-history"></i>
                    <span>History</span>
                </a>
                <button id="googleLogoutBtn" title="Logout">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>
            </nav>
        </div>
    </div>
</header>

<!-- MAIN CONTAINER -->
<div class="container my-3">
    <!-- BUDGET CARD - FIXED: Only shows after login -->
    <div id="budgetCard" class="card">
        <div class="card-body">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <div>
                    <h5 style="margin:0;color:var(--warning);">Budget Limit</h5>
                    <small class="text-muted">Set a monthly/total budget for your expenses</small>
                </div>
                <div>
                    <button id="resetBudgetBtn" class="btn btn-outline-danger btn-sm">Reset Budget</button>
                </div>
            </div>

            <!-- BUDGET INPUT AND SAVE BUTTON - FIXED: Inside budget card -->
            <div class="row g-2 mb-3 align-items-center">
                <div class="col-md-6 col-lg-7">
                    <input type="number" id="budgetInput" class="form-control" placeholder="Enter budget amount (e.g. 5000)">
                </div>
                <div class="col-md-6 col-lg-5">
                    <button id="saveBudgetBtn" class="btn btn-primary w-100">
                        <i class="fas fa-save"></i> Save Budget
                    </button>
                </div>
            </div>

            <div class="text-center mb-2">
                <div id="budgetStatusText" style="font-weight:600;color:var(--text);">No budget set</div>
            </div>

            <div id="budgetBar" class="mb-2">
                <div id="budgetProgress" class="progress" style="width:100%">
                    <div id="budgetProgressBar" class="progress-bar" role="progressbar" style="width:0%"></div>
                </div>
            </div>

            <div id="budgetAlerts" style="min-height:22px;"></div>
        </div>
    </div>

    <!-- EXPENSE FORM -->
    <div id="expenseFormContainer" style="display:none;">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0"><i class="fas fa-plus-circle"></i> Add New Expense</h5>
            </div>
            <div class="card-body">
                <form id="expenseForm" class="row g-3">
                    <input type="hidden" id="editId">
                    <div class="col-md-6">
                        <label for="name" class="form-label">Name</label>
                        <input type="text" id="name" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                        <label for="amount" class="form-label">Amount</label>
                        <input type="number" id="amount" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                        <label for="type" class="form-label">Type</label>
                        <select id="type" class="form-select" required>
                            <option value="">Choose one...</option>
                            <option value="Card">Card</option>
                            <option value="Cash">Cash</option>
                            <option value="Gpay/Paytm">Gpay/Paytm</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="description" class="form-label">Description</label>
                        <input type="text" id="description" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                        <label for="date" class="form-label">Date</label>
                        <input type="date" id="date" class="form-control" required>
                    </div>
                    <div class="col-12 d-flex justify-content-between mt-3">
                        <button type="reset" class="btn btn-danger">
                            <i class="fas fa-times"></i> Clear
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-check"></i> Confirm
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- TABLE -->
    <div id="tableContainer" class="table-responsive"></div>

    <!-- ANALYTICS -->
    <div id="analyticsContainer" class="my-4" style="display:none;">
        <div class="table-container">
            <h4 class="text-center" style="color:var(--primary);">üìä Expense Analytics</h4>
            <div class="row">
                <div class="col-md-6">
                    <div class="chart-container">
                        <canvas id="lineChart"></canvas>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="chart-container">
                        <canvas id="pieChart"></canvas>
                    </div>
                    <div id="analyticsBadge" class="text-center mt-3"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ABOUT MODAL -->
<div id="aboutModal" class="modal-overlay">
    <div class="modal-content">
        <h2>About E-TRAX</h2>
        <p><strong>E-TRAX</strong> helps you <strong>track your daily expenses</strong> and manage your budget efficiently.</p>
        <h4>üí° Purpose</h4>
        <p>Record, categorize, and analyze your spending patterns easily.</p>
        <h4>‚öôÔ∏è How It Works</h4>
        <ul>
            <li>Add expenses with name, amount, and date.</li>
            <li>View and edit them anytime.</li>
            <li>Check total expenses instantly.</li>
            <li>See visual analytics of your spending trends.</li>
            <li>Set budget limits and track your spending against them.</li>
            <li>Track complete edit history with user details.</li>
        </ul>
        <div style="text-align:center;">
            <button id="closeAbout" class="btn btn-primary">Close</button>
        </div>
    </div>
</div>

<!-- HISTORY MODAL -->
<div id="historyModal" class="modal-overlay">
    <div class="modal-content">
        <h2>üìù Edit History</h2>
        <div id="historyContent">
            <p>Loading history...</p>
        </div>
        <div style="text-align:center; margin-top: 20px;">
            <button id="closeHistory" class="btn btn-primary">Close</button>
        </div>
    </div>
</div>

<!-- MESSAGE BOX -->
<div id="msgBox"></div>

<footer>
    <div style="display:flex; flex-direction:column; align-items:center; gap:6px;">
        <div style="display:flex; gap:15px; font-size:0.75rem;">
            <a href="terms-conditions.html" id="termsLink">Terms & Conditions</a>
            <a href="privacy-policy.html" id="privacyLink">Privacy Policy</a>
        </div>

        <p style="margin:0;">
            Email: <a href="mailto:alphaprime.co.in@gmail.com">alphaprime.co.in@gmail.com</a>
        </p>

        <p style="margin:0;">&copy; 2025 E-TRAX. All rights reserved.</p>
    </div>
</footer>

<!-- ================= CUSTOM JAVASCRIPT ================= -->
<script src="script.js"></script>
</body>
</html>